---
layout: default
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}


  {% if site.paginate %}
    {% assign posts = paginator.posts | where: "layout","project" | sort: "relevance" | reverse %}
  {% else %}
    {% assign posts = site.posts | where: "layout","project" | sort: "relevance" | reverse %}
  {% endif %}


  {%- if posts.size > 0 -%}
    {%- if page.list_title -%}
      <h2 class="post-list-heading">{{ page.list_title }}</h2>
    {%- endif -%}
    {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
    {%- assign visible_limit = 10 -%}
    <div class="grid-container">
      {%- for post in posts limit: visible_limit -%}
        <a class="grid-item" href="{{ post.url | relative_url }}">
          {%- if site.show_excerpts -%}
            {%- if post.image -%}
              <span class="grid-item-image"><img loading="lazy" src="{{ post.image }}" width="320" height="240"/></span>
            {%- endif -%}
            {%- if post.thumb -%}
              <span class="grid-item-image"><img loading="lazy" src="/media{{ post.permalink }}/{{ post.thumb }}" width="320" height="240"/></span>
            {%- endif -%}
          {%- endif -%}
          <span class="grid-item-body">
            <h3 class="grid-item-title">{{ post.title | escape }}</h3>
            {%- if site.show_excerpts -%}
              {%- if post.description -%}
                <p class="grid-item-description">{{ post.description }}</p>
              {%- endif -%}
            {%- endif -%}
            <span class="grid-item-date">{{ post.date | date: date_format }}</span>
          </span>
        </a>
      {%- endfor -%}
    </div>

    {%- if posts.size > visible_limit -%}
      <div class="show-more-projects">
        <button class="show-more-btn" onclick="document.getElementById('more-projects').style.display='grid'; this.parentElement.style.display='none';">
          Show more projects &#x25BC;
        </button>
      </div>
      <div id="more-projects" class="grid-container more-projects-hidden">
        {%- for post in posts offset: visible_limit -%}
          <a class="grid-item" href="{{ post.url | relative_url }}">
            {%- if site.show_excerpts -%}
              {%- if post.image -%}
                <span class="grid-item-image"><img loading="lazy" src="{{ post.image }}" width="320" height="240"/></span>
              {%- endif -%}
              {%- if post.thumb -%}
                <span class="grid-item-image"><img loading="lazy" src="/media{{ post.permalink }}/{{ post.thumb }}" width="320" height="240"/></span>
              {%- endif -%}
            {%- endif -%}
            <span class="grid-item-body">
              <h3 class="grid-item-title">{{ post.title | escape }}</h3>
              {%- if site.show_excerpts -%}
                {%- if post.description -%}
                  <p class="grid-item-description">{{ post.description }}</p>
                {%- endif -%}
              {%- endif -%}
              <span class="grid-item-date">{{ post.date | date: date_format }}</span>
            </span>
          </a>
        {%- endfor -%}
      </div>
    {%- endif -%}

    {% if site.paginate %}
      <div class="pager">
        <ul class="pagination">
        {%- if paginator.previous_page %}
          <li><a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">•</div></li>
        {%- endif %}
          <li><div class="current-page">{{ paginator.page }}</div></li>
        {%- if paginator.next_page %}
          <li><a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">•</div></li>
        {%- endif %}
        </ul>
      </div>
    {%- endif %}

  {%- endif -%}

  {% assign notes = site.posts | where: "layout","note" %}
  {%- if notes.size > 0 -%}
    <div class="home-notes-section">
      <h2 class="home-notes-heading"><a href="/notes/">Technical Notes</a></h2>
      <div class="notes-list">
        {%- for note in notes limit:5 -%}
          <a class="note-item" href="{{ note.permalink }}">
            <span class="note-item-title">{{ note.title }}</span>
            {%- if note.description %}
              <span class="note-item-desc">— {{ note.description }}</span>
            {%- endif %}
            <span class="note-item-date">{{ note.date | date: "%Y-%m-%d" }}</span>
          </a>
        {%- endfor -%}
      </div>
    </div>
  {%- endif -%}

</div>
